<!DOCTYPE html>
<!--Template: https://www.w3schools.com/bootstrap/tryit.asp?filename=trybs_temp_webpage&stacked=h  -->
<html lang="en">
<head>
  <title>Ray vs Wave based</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="../../img/icon.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="../../css/topics/topic.css">
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]}
    });
  </script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML'></script>
  <!-- end of mathjax configuration -->
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li><a href="https://www.doc.ic.ac.uk/~imm1117/">Home</a></li>
        <li>
        <li class="dropdown">
          <a class="dropbtn">Menu</a>
          <div class="dropdown-content">
            <a href="https://www.doc.ic.ac.uk/~imm1117/topics/clovis/context.html">Context</a>
            <a href="https://www.doc.ic.ac.uk/~imm1117/topics/hannah/brdf.html">Rendering Methods</a>
            <a href="https://www.doc.ic.ac.uk/~imm1117/topics/ali/physics.html">Physics</a>
          </div>
        </li>
      </ul>
      <p class="navbar-text" id="navbar-centre">Physics Based Rendering</p>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://www.doc.ic.ac.uk/~imm1117/cv/indexIndia.html">About</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container-fluid text-center">
  <div class="row content" >
    <div class="col-sm-2 sidenav">
      <!-- don't have to use the sidebar -->
    </div>

    <div class="col-sm-8 text-left">
      <h1> A way of simulating wave effects in Ray-tracers </h1>
      <hr>
     <h2>BRDFs and BSDFs </h2>
     <p>As discussed earlier (in the BRDF section), we can use BRDFs (Bidirectional reflectance distribution functions) to represent how the light wave is reflected in a ray tracing model. A more general version of this is a BSDF (bidirectional scattering distribution function), which is a combination of a BRDF and a BTDF (bidirectional transmittance distribution function). A BTDF is a function that represents the transmitted portion of the light wave. These functions describe the probability of a wave being transmitted or reflected in a certain way, and the BSDF combines this probability.</p>
     <div class="imagebox" style="width:70%">
       <img src="https://www.doc.ic.ac.uk/~imm1117/img/india/BSDF.jpg" alt="BSDF">
       <div class="container" style="width:100%">
         <hr>
         <p> How BSDF, BRDF and BTDF are related </p>
       </div>
     </div>
     <hr>

     <h2> Wave-based BSDFs</h2>
     <p>
       A fairly recent paper described a method of integrating wave-based effects into a ray tracer model by using a specific type of BSDF. They termed this a Wave BSDF. They introduced it to support the effects of diffraction and interference on wavelength-scale structures, as many of the current methods require nearby sections to be considered in conjunction with the current section, which is difficult to achieve computationally. Their new method allows each section to be considered individually, maintaining the accuracy of the produced effect.
     </p>
     <p>
       A Wave BSDF encodes the phase information of a wave within it, using the Wigner Distribution Function (WDF) for wave optics. The WDF is a way of describing optical fields and how they move, and is used to take care of complex calculations about the phase of the wave.
    </p>
    <p>

      When rendering rays, we can use the rendering equation, which constructs a formula for the total outgoing light, from the emitted and reflected light:
    </p>
    <ul>
      <div style = "text-align:center">
    <h4> $Outgoing\;Light = Emitted\;Light + \int(BSDF \times Incoming\;Light)$</h4></div>
  </ul>
  <p>
    As phase is not explicitly taken into account in this equation, we include it in the BSDF to ensure we have the necessary information for calculation of interference. This is one of the differences included in a wave-based BSDF, as information is preserved over time, rather than recalculated.
  </p>
      A Wigner distribution function is a function of the spatial (the position of the ray in space), and the spatial frequency. Spatial frequency can be basically expressed as a function of the wavelength and direction of the wave:

    \begin{equation}
        u = \frac{\lambda}{sin(\theta)}
    \end{equation}

    	We create the wave-based BSDF by taking the four inputs: $x$, the incoming direction, $\theta_i$, the outgoing direction $\theta_o$ and the wavelength $\lambda.$ We transform the last three into a formula for the spatial frequency:

    \begin{equation}
     u = \frac{\pm sin(\theta_o)-sin(\theta_i)}{\lambda}
    \end{equation}

    This can then be applied to the WDF, forming our BSDF.
    <p>
      The properties of this BSDF include:
      <ul>
        <li>
	It is conserved over distance, and so is valid in both the near and far field. This is due to its independence on distance, as it is based on angles
</li>
<li>
	It can take into account the coherence of multiple sources, whether they are coherent or not. This is due to the treatment of sources jointly to create a single wave BSDF.
</li>
</ul>
A limitation of this method is the fact that it is able to produce a result with a negative radiance, which is physically impossible.

<hr>
<h2> Comparison to Stam’s method:</h2>
  <p>
In 1999, Jos Stam published a method of creating a BSDF using <a href="www.doc.ic.ac.uk/~imm1117/topics/ali/physics.html#fouriertransform">Fourier transforms</a> that took into account the wave-based nature of light. This allowed far-field rendering of diffraction effects. This method (called Diffraction shaders) happens to have some correlation with the Wave-BSDF discussed above.
</p>
<p>
The wave BSDF we have discussed can be modified to work for different locations of the light source and the observer. Stam’s approach is very similar, however the source and observer at fixed at infinite distance.
</p>
<p>
This new method adds flexibility to Stam’s previous approach, as well as supporting many of its previous characteristics. For example, the wave-BSDF can implicitly account for changes in amplitude by including an extra function in the construction of the wave-BSDF, whereas Stam’s method had to use height-maps, which modelled the changes in phase without explicitly accounting for the amplitude of the structure.
</p>
<hr>

    </div>


    <div class="col-sm-2 sidenav">
      <a href="https://www.doc.ic.ac.uk/~imm1117/topics/hannah/brdf.html"><h3><u>BRDF</u></h3></a>
      <br>
      <a href="IndiaSection.html"><h3><u>Rays vs Waves</u></h3></a>
      <br>
      <a href="WaveBRDF.html"><h3><u>Wave BSDF</u></h3></a>
      <br>
      <a href="SpectralRendering.html"><h3><u>Spectral Rendering</u></h3></a>
      <br>
      <a href="Difficulties.html"><h3><u>Difficulties</u></h3></a>
    </div>
  </div>
</div>

<footer class="container-fluid text-center">
  <h3>References</h3>
  <p>
   D.  Johnston and P.  Tarjan, "Ray-Tracing Interference and diffraction", Stanford, 2006.
 </p>
 <p>
S.  Siltanen, T.  Lokki and L.  Savioja, "Rays or Waves? Understanding the Strengths and Weaknesses of Computational Room Acoustics Modeling Techniques", in he International Symposium on Room Acoustics (ISRA2010), Melbourne, Australia, 2010, p. Paper O5a.
 </p>
 <p>
"Wave Equation | Brilliant Math & Science Wiki", Brilliant.org, 2018. [Online]. Available: https://brilliant.org/wiki/wave-equation/. [Accessed: 09- Mar- 2018].
 </p>
 <p>
 J.  Kajiya, "The rendering equation", Proceedings of the 13th annual conference on Computer graphics and interactive techniques  - SIGGRAPH '86, 1986.
</p>
<p>
T.  Cuypers, T.  Haber, P.  Bekaert, S.  Oh and R.  Raskar, "Reflectance model for diffraction", ACM Transactions on Graphics, vol. 31, no. 5, pp. 1-11, 2012.
</p>
<p>
  J.  Stam, "Diffraction shaders", Proceedings of the 26th annual conference on Computer graphics and interactive techniques  - SIGGRAPH '99, 1999.
</p>
<p>
  "Spectral rendering", En.wikipedia.org, 2018. [Online]. Available: https://en.wikipedia.org/wiki/Spectral_rendering. [Accessed: 14- Mar- 2018].
</p>
<p>
  A.  Toisoul and A.  Ghosh, "Practical Acquisition and Rendering of Diffraction Effects in Surface Reflectance", ACM Transactions on Graphics, vol. 36, no. 5, pp. 1-16, 2017.
</p>




</footer>

</body>
</html>
